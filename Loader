-- Função para carregar com segurança
local function SafeLoad(url)
    local success, result = pcall(function()
        return game:HttpGet(url)
    end)
    
    if success and result then
        local func, err = loadstring(result)
        if func then
            func()
        else
            warn("Erro no loadstring: " .. err)
        end
    else
        warn("Erro ao baixar o script: " .. url)
    end
end

-- Carregar base
SafeLoad("https://raw.githubusercontent.com/pietrocanaltu-rgb/nee/refs/heads/main/n3on_hub_base.lua")

-- Espera curta para garantir que a base carregou
local timeout = 0
while not _G.N3onHub and timeout < 50 do
    task.wait(0.1)
    timeout = timeout + 1
end

-- Módulos por Jogo
local placeId = game.PlaceId

if placeId == 2753915549 or placeId == 4442272183 or placeId == 7449423635 then
    SafeLoad("https://raw.githubusercontent.com/pietrocanaltu-rgb/nee/refs/heads/main/n3on_hub_bloxfruits.lua")
elseif placeId == 537413528 then
    SafeLoad("https://raw.githubusercontent.com/pietrocanaltu-rgb/nee/refs/heads/main/n3on_hub_buildaboat.lua")
elseif placeId == 6403373529 then
    SafeLoad("https://raw.githubusercontent.com/pietrocanaltu-rgb/nee/refs/heads/main/SlapBattles.Lua")
else
    print("Jogo não suportado: " .. placeId)
end
